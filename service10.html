<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Device Service Request</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #e0e7ff 0%, #f4f4f4 100%);
            min-height: 100vh;
            background-image: url('https://img.icons8.com/color/240/000000/monitor.png'), 
                              url('https://img.icons8.com/color/240/000000/laptop.png'), 
                              url('https://img.icons8.com/color/240/000000/smartphone.png'),
                              url('https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&w=800&q=80');
            background-repeat: no-repeat, no-repeat, no-repeat, no-repeat;
            background-position: left 2vw top 12vh, right 2vw bottom 8vh, center bottom 2vh, center center;
            background-size: 120px, 120px, 90px, cover;
        }
        @keyframes rainbow-margin {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        .container {
            max-width: 650px;
            margin: 48px auto;
            background: #fff;
            padding: 32px 28px 28px 28px;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(0, 120, 215, 0.12), 0 1.5px 8px rgba(0,0,0,0.07);
            position: relative;
        }
        h2 {
            text-align: center;
            color: #0078d7;
            letter-spacing: 1px;
            margin-bottom: 18px;
            font-weight: 700;
        }
        .service-boxes {
            display: flex;
            justify-content: space-between;
            margin-top: 36px;
            gap: 18px;
        }
        .service-box {
            flex: 1;
            margin: 0;
            background: linear-gradient(135deg, #e6f7ff 60%, #c3e0ff 100%);
            border-radius: 12px;
            padding: 28px 10px 18px 10px;
            text-align: center;
            cursor: pointer;
            transition: box-shadow 0.2s, transform 0.2s, background 0.2s, border 0.2s;
            box-shadow: 0 2px 10px rgba(0,120,215,0.08);
            border: 2px solid transparent;
            position: relative;
        }
        .service-box:hover, .service-box:focus {
            box-shadow: 0 6px 24px rgba(0,120,215,0.18);
            background: linear-gradient(135deg, #d0ecff 60%, #b3d8ff 100%);
            border: 2px solid transparent;
            transform: translateY(-4px) scale(1.03);
            z-index: 2;
        }
        .service-box:hover::before, .service-box:focus::before {
            content: "";
            position: absolute;
            top: -6px; left: -6px; right: -6px; bottom: -6px;
            border-radius: 16px;
            z-index: 2;
            pointer-events: none;
            background: linear-gradient(90deg, red, orange, yellow, green, blue, indigo, violet, red);
            background-size: 400% 400%;
            animation: rainbow-margin 8s linear infinite;
            padding: 0;
            border: 4px solid transparent;
            -webkit-mask:
                linear-gradient(#fff 0 0) content-box, 
                linear-gradient(#fff 0 0);
            mask:
                linear-gradient(#fff 0 0) content-box, 
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
        }
        .service-box img {
            width: 68px;
            height: 68px;
            margin-bottom: 14px;
            filter: drop-shadow(0 2px 8px #b3d8ff);
        }
        .service-box div {
            font-size: 1.13em;
            color: #0078d7;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        .hidden { display: none; }
        label {
            display: block;
            margin-top: 18px;
            color: #005fa3;
            font-weight: 500;
            letter-spacing: 0.2px;
        }
        input, select, textarea {
            width: 100%;
            padding: 10px 12px;
            margin-top: 7px;
            border: 1.5px solid #b3d8ff;
            border-radius: 6px;
            background: #f7fbff;
            font-size: 1em;
            transition: border 0.2s;
        }
        input:focus, select:focus, textarea:focus {
            border: 1.5px solid #0078d7;
            outline: none;
            background: #e6f7ff;
        }
        button {
            margin-top: 24px;
            width: 100%;
            padding: 12px;
            background: linear-gradient(90deg, #0078d7 60%, #00c6fb 100%);
            color: #fff;
            border: none;
            border-radius: 6px;
            font-size: 1.13em;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,120,215,0.10);
            letter-spacing: 0.5px;
            transition: background 0.2s, box-shadow 0.2s;
        }
        button:hover, button:focus {
            background: linear-gradient(90deg, #005fa3 60%, #00a6d7 100%);
            box-shadow: 0 4px 16px rgba(0,120,215,0.18);
        }
        .result {
            margin-top: 28px;
            padding: 18px 16px;
            background: linear-gradient(90deg, #e6f7ff 70%, #d0ecff 100%);
            border-radius: 8px;
            color: #005fa3;
            font-size: 1.08em;
            box-shadow: 0 1px 6px rgba(0,120,215,0.07);
            border-left: 5px solid #0078d7;
        }
        #map {
            width: 100%;
            height: 260px;
            margin-top: 18px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 12px rgba(0,120,215,0.10);
        }
        @media (max-width: 700px) {
            .container { padding: 18px 6vw; }
            .service-boxes { flex-direction: column; gap: 18px; }
            .service-box { padding: 22px 0 14px 0; }
            body {
                background-size: 70px, 70px, 50px, cover;
                background-position: left 2vw top 4vh, right 2vw bottom 2vh, center bottom 1vh, center center;
            }
        }
        ::placeholder {
            color: #a0b8d7;
            opacity: 1;
        }
        body::after {
            content: "";
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255,255,255,0.75);
            z-index: 0;
            pointer-events: none;
        }
        body > .container, body > script {
            position: relative;
            z-index: 1;
        }
    </style>
</head>
<body>
    <nav style="width:100%;background:#0078d7;padding:14px 0 12px 0;box-shadow:0 2px 8px rgba(0,120,215,0.08);position:relative;z-index:2;">
        <div style="max-width:650px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:0 24px;">
            <a href="index.html" style="color:#fff;text-decoration:none;font-weight:600;font-size:1.13em;letter-spacing:0.5px;">Home</a>
            <a href="contact.html" style="color:#fff;text-decoration:none;font-weight:600;font-size:1.13em;letter-spacing:0.5px;">Contact</a>
        </div>
    </nav>
    <div class="container">
        <h2>Choose Your Device Service</h2>
        <div class="service-boxes" id="serviceBoxes">
            <div class="service-box" data-device="PC">
                <img src="https://img.icons8.com/color/96/000000/monitor.png" alt="PC">
                <div>PC Service</div>
            </div>
            <div class="service-box" data-device="Laptop">
                <img src="https://img.icons8.com/color/96/000000/laptop.png" alt="Laptop">
                <div>Laptop Service</div>
            </div>
            <div class="service-box" data-device="Mobile">
                <img src="https://img.icons8.com/color/96/000000/smartphone.png" alt="Mobile">
                <div>Mobile Service</div>
            </div>
        </div>
        <button id="backBtn" type="button" style="display:none;margin-bottom:18px;background:#e6f7ff;color:#0078d7;border:1.5px solid #b3d8ff;font-size:1em;width:auto;padding:8px 22px;box-shadow:none;transition:background 0.2s;" onclick="goBackToDeviceSelect()">
            &larr; Back
        </button>
        <form id="issueForm" class="hidden" enctype="multipart/form-data">
            <h2 id="formTitle"></h2>
            <label for="category">Category</label>
            <select id="category" required>
                <option value="">Select Category</option>
                <option value="Screen">Screen Issue</option>
                <option value="Battery">Battery Issue</option>
                <option value="Software">Software Issue</option>
                <option value="Other">Other</option>
            </select>
            <label for="problem">Describe the Problem</label>
            <textarea id="problem" rows="3" required placeholder="E.g., Screen not working, battery issue..."></textarea>
            <label for="picture">Upload Picture (optional)</label>
            <input type="file" id="picture" accept="image/*">
            <label for="video">Upload Video (optional)</label>
            <input type="file" id="video" accept="video/*">
            <label for="address">Your Location / Address</label>
            <input type="text" id="address" required placeholder="Enter your address or location">
            <button type="submit">Find Service</button>
        </form>
        <div id="result" class="result" style="display:none;"></div>
        <div id="map" style="display:none;"></div>
    </div>
    <div style="flex:1"></div>
    <script>
        const serviceMen = [
            { name: "John Doe", phone: "9876543210", area: "Chennai" },
            { name: "Priya Kumar", phone: "9123456780", area: "Bangalore" },
            { name: "Amit Singh", phone: "9988776655", area: "Mumbai" }
        ];
        const serviceCenters = [
            { name: "TechFix Service Center", address: "123 Anna Salai, Chennai", area: "Chennai" },
            { name: "LaptopCare Center", address: "45 MG Road, Bangalore", area: "Bangalore" },
            { name: "MobilePro Service", address: "78 Andheri East, Mumbai", area: "Mumbai" }
        ];
        document.querySelectorAll('.service-box').forEach(box => {
            box.addEventListener('click', function() {
                document.getElementById('serviceBoxes').classList.add('hidden');
                document.getElementById('issueForm').classList.remove('hidden');
                document.getElementById('formTitle').textContent = this.getAttribute('data-device') + " Service Request";
                document.getElementById('category').value = "";
                document.getElementById('problem').value = "";
                document.getElementById('address').value = "";
                document.getElementById('picture').value = "";
                document.getElementById('video').value = "";
                document.getElementById('result').style.display = 'none';
                document.getElementById('map').style.display = 'none';
                document.getElementById('backBtn').style.display = 'inline-block';
            });
        });
        document.getElementById('issueForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const category = document.getElementById('category').value;
            const problem = document.getElementById('problem').value;
            const address = document.getElementById('address').value;
            let found = serviceMen.find(s => address.toLowerCase().includes(s.area.toLowerCase()));
            const resultDiv = document.getElementById('result');
            const mapDiv = document.getElementById('map');
            resultDiv.style.display = 'block';
            if (found) {
                resultDiv.innerHTML = `
                    <strong>Service Man Details:</strong><br>
                    Name: ${found.name}<br>
                    Phone: <a href="tel:${found.phone}">${found.phone}</a><br>
                    Area: ${found.area}
                `;
                let center = serviceCenters.find(c => address.toLowerCase().includes(c.area.toLowerCase()));
                if (center) {
                    showMap(center.address, center.name);
                } else {
                    mapDiv.style.display = 'none';
                }
            } else {
                resultDiv.innerHTML = `
                    <strong>No direct service man found for your area.</strong><br>
                    Showing nearby service centers on map below.
                `;
                showMap(address + ' service center');
            }
        });
        function showMap(location, label = "") {
            const mapDiv = document.getElementById('map');
            mapDiv.style.display = 'block';
            const query = encodeURIComponent(location);
            mapDiv.innerHTML = `<iframe
                width="100%"
                height="250"
                frameborder="0"
                style="border:0"
                src="https://www.google.com/maps?q=${query}&output=embed"
                allowfullscreen
                title="Service Center Map">
            </iframe>
            ${label ? `<div style="margin-top:8px;text-align:center;"><strong>${label}</strong><br>${location}</div>` : ""}`;
        }
        function goBackToDeviceSelect() {
            document.getElementById('serviceBoxes').classList.remove('hidden');
            document.getElementById('issueForm').classList.add('hidden');
            document.getElementById('result').style.display = 'none';
            document.getElementById('map').style.display = 'none';
            document.getElementById('backBtn').style.display = 'none';
        }
    </script>
</body>
</html>
